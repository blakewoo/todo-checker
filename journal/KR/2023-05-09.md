## 2023-05-09

프로젝트를 완성해서 버전 1.0을 릴리즈했다.   
퇴근 후 시간을 들여 취미 비슷하게 시작한 프로젝트여서 급할 일이 없으니   
코드를 잘 짤 수 있을 것이라 생각했었지만 그냥 내 코드 습관이 문제였다.   
마틴 파울러의 리팩토링을 읽고 부족한 부분을 수정하려고 한다.

일단 리팩토링을 읽기에 앞서서 순전히 내 생각에 현재 내 코드에서 부족한 부분은 다음과 같다.   
- 일관되지 않는 명명법 - 다른 사람이 보기에 해당 식별자가 클래스인지 아이디인지 아니면 다른 것인지 알수가 없다. 이는 재 사용성에 있어서 매우 좋지 않다.
- 쓸모 없는 기능 - 원래는 전체 데이터를 갖고 와서 프론트엔드에서 변수에 넣고 변경 과정에 따라서 해당 변수를 업데이트를 하여 쓰는 것을 생각했지만 어쩌다보니 요청마다 DB에서 갖고와서 쓰게 되었다. 아예 이 변수를 빼버리든 내가 원래 의도했던 대로 고치든 해야한다.
- 싱글 프로세스 Only - 세션이 메모리상에서 유지되기 때문에 pm2 패키지를 통해 코어 수만큼 프로세스를 띄울 수 없다. (세션 공유가 안되므로) 그냥 한 개 프로세스만 쓰면 서버 낭비다. 2코어 서버로 돌릴게 아니라면 다중 프로세스를 지원하게 바꾸는게 맞다.  
- 사용하다만 프로토타입 - 각 객체의 기능에 대한 정의가 명확하지 않아 구조가 중구난방이다. 제대로 구조를 잡아서 각 객체의 기능을 정의하고 그에 맞게 코드를 수정해야한다.
- 테스트 코드의 부재 - package.json에 mocha가 들어가 있으면 뭐하나 테스트 코드가 없고, 릴리즈할때 테스트를 안한다. 릴리즈 이전에 테스트를 하는 프로세스를 정립하고 실제로 테스트를 진행해야 한다.


일단 당장 내 눈에 보이는 문제점은 이 네가지다. 일단 당장은 이 문제점들을 해결하기 위해 노력할 것이며 리팩토링을 읽으며 발견하게 되는 문제점들을 추가적으로 기재하여 고칠 생각이다.