!function(){function t(t,e,n,a){null!=t?(null==e&&(e=new Date),this.targetDiv=t,this.targetDate=e,this.seletedDate=e,this.monthlyEvent=a,this.readOnly=n):console.error("[JHCalendar error]Target div is not provided")}t.prototype.daySelected=function(t){},t.prototype.setPaintTarget=function(t){t&&(this.targetDate=t),this.paint(this.targetDate),this.drawTbody(this.targetDate),this.buttonEvent(this.targetDate)},t.prototype.paint=function(t){this.targetDiv.innerHTML=this.drawTable(t.getFullYear(),t.getMonth()+1)},t.prototype.drawTable=function(t,e){return"<table class='calendar_table'><thead><tr class='title_arrow_tr'><td id='calendarPrevMonthTd'><label>< 이전달</label></td><td class='current_month_td' colspan='5'>"+t+"년 "+e+"월</td><td id='calendarNextMonthTd'><label>다음달 ></label></td></tr><tr class='day_head_tr'><td class='red_td_font'>일</td><td>월</td><td>화</td><td>수</td><td>목</td><td>금</td><td class='blue_td_font'>토</td></tr></thead><tbody id='calendarTableTbody'></tbody></table>"},Object.defineProperty(this,"monthlyEvent",{get(){return this.monthlyEvent},set(t){this.monthlyEvent=t}}),t.prototype.writeDailyEvent=function(t){let e="";for(let n=0;n<t.length;n++)e+="<label class='daily_notifictaion_label' >"+t[n]+"</label><br>";return e},t.prototype.drawTbody=function(t){let e=this.monthlyEvent,n=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0),l=(new Date).getFullYear()===t.getFullYear()&&(new Date).getMonth()===t.getMonth(),d=t.getFullYear(),i=t.getMonth()+1,r="",o=1,s=document.getElementById("calendarTableTbody"),h=0,c="<tr>";for(let t=0;t<n.getDay();t++)c+="<td></td>",h+=1;for(let t=1;t<=a.getDate();t++){r=t,h%7==0&&(c+="<tr>"),h+=1;let n="day_td";h%7==0&&(n+=" blue_td_font"),h%7==1&&(n+=" red_td_font"),l&&t===(new Date).getDate()&&(n+=" day_td_selected");let s=e.get(d+"-"+i+"-"+r);s&&0!==s.length?c+="<td class='"+n+"' id='day-"+a.getFullYear()+"-"+a.getMonth()+"-"+t+"'><br><label class='day_label'>"+t+"</label><br><div class='notifictaion_div'>"+this.writeDailyEvent(s)+"</div></td>":c+="<td class='"+n+"' id='day-"+a.getFullYear()+"-"+a.getMonth()+"-"+t+"'><br><label class='day_label'>"+t+"</label></td>",h%7==0&&(o+=1,c+="</tr>")}s.innerHTML=c;let y=document.getElementsByClassName("day_td");for(let t=0;t<y.length;t++)y[t].style.height="calc(100% /"+o+")"},t.prototype.buttonEvent=function(t){document.getElementById("calendarPrevMonthTd").removeEventListener("click",this.prevMonthEvent.bind(this)),document.getElementById("calendarPrevMonthTd").addEventListener("click",this.prevMonthEvent.bind(this)),document.getElementById("calendarNextMonthTd").removeEventListener("click",this.nextMonthEvent.bind(this)),document.getElementById("calendarNextMonthTd").addEventListener("click",this.nextMonthEvent.bind(this));let e=document.getElementsByClassName("day_td");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",this.dailySelectEvent.bind(this)),e[t].addEventListener("click",this.dailySelectEvent.bind(this))},t.prototype.prevMonthEvent=async function(t){let e=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()-1,1);this.monthlyEvent=await this.getRecentMonthlyNotification(e),this.setPaintTarget(e)},t.prototype.nextMonthEvent=async function(t){let e=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()+1,1);this.monthlyEvent=await this.getRecentMonthlyNotification(e),this.setPaintTarget(e)},t.prototype.dailySelectEvent=function(t){let e=t.currentTarget.getAttribute("id"),n=document.getElementsByClassName("day_td_selected");for(let t=0;t<n.length;t++)n[t].classList.remove("day_td_selected");t.currentTarget.classList.add("day_td_selected");let a=e.split("-");this.daySelected(new Date(a[1],a[2],a[3])),this.seletedDate=new Date(a[1],a[2],a[3])},t.prototype.getRecentMonthlyNotification=async function(t){return new Promise((t=>{t(new Map)}))}}();