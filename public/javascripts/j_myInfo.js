window.onload=function(){headlineInit();let e=!1;function t(t,n,o){t===n?(o.disabled=!1,e=!1):(o.disabled=!0,e=!0)}requestFunction("GET","/user/my",null,"JSON",(function(n){document.getElementById("email_modify_input").value=n.result.EMAIL,document.getElementsByClassName("myinfo_deleteAccount_div")[0].addEventListener("click",(function(e){yesNoModal("정말로 탈퇴 하시겠습니까?",300,50,(function(e,t){e.addEventListener("click",(function(e){requestFunction("DELETE","/user/my",{},"JSON",(function(e){e.status&&(location.href=location.protocol+"//"+location.host)})),e.currentTarget.parentNode.remove()})),t.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))}))})),document.getElementById("passwordInput").addEventListener("keyup",(function(e){t(document.getElementById("passwordInput").value,document.getElementById("password_confirm_input").value,document.getElementById("myinfoModifySubmitButton"))})),document.getElementById("password_confirm_input").addEventListener("keyup",(function(e){t(document.getElementById("passwordInput").value,document.getElementById("password_confirm_input").value,document.getElementById("myinfoModifySubmitButton"))})),document.getElementById("myinfoModifySubmitButton").addEventListener("click",(function(t){let n={};n.EMAIL=document.getElementById("email_modify_input").value,n.PASSWORD=document.getElementById("passwordInput").value,n.PASSWORD_CONFIRM=document.getElementById("password_confirm_input").value,e?okCancelModal("비밀번호와 비밀번호 확인 란의 입력값이 다릅니다.",400,100,(function(e){e.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))})):""===n.PASSWORD||/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{9,25}$/.test(n.PASSWORD)?new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}").test(n.EMAIL)?requestFunction("PUT","/user/my",n,"JSON",(function(e){if(e.status)okCancelModal("UPDATE COMPLETE",400,100,(function(e){e.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))})),document.getElementById("passwordInput").value="",document.getElementById("password_confirm_input").value="";else{let t=e.reason;okCancelModal(t,400,100,(function(e){e.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))}))}})):okCancelModal("적절하지 않은 메일 형태입니다.",400,100,(function(e){e.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))})):okCancelModal("비밀번호는 영문자,숫자,특수문자를 포함해서 9~25자리여야합니다.",400,100,(function(e){e.addEventListener("click",(function(e){e.currentTarget.parentNode.remove()}))}))}))}))};